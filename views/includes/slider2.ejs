<% include ../layout %>
<div class="simple-carousel">
    <a href="#" class="control_next"><i class="fa fa-chevron-right"></i></a>
    <a href="#" class="control_prev"><i class="fa fa-chevron-left"></i></a>
    <ul>
      <li class="slide" style="background-image: url('https://wallpapershome.com/images/pages/pic_h/18677.jpg');"></li>
      <li class="slide" style="background-image: url('https://wallpapershome.com/images/pages/pic_h/23795.jpg');"></li>
      <li class="slide" style="background-image: url('https://wallpapershome.com/images/pages/pic_h/23794.jpg');"></li>
      <li class="slide" style="background-image: url('https://wallpapershome.com/images/pages/pic_h/4589.jpg');"></li>
    </ul>
  </div>
  

<script>
$(document).ready(function () {
    alert("ready")
  simpleCarousel($(".simple-carousel"), 5000);
});

function simpleCarousel(carousel, intervalTime = 5000) {
  var slideCount = $(carousel).find("ul li.slide").length;
  console.log("slideCount",slideCount)
  var activeSlide = 0;

  function showSlide() {
    $(carousel)
      .find("ul li.slide")
      .each(function (index) {
        if (index == activeSlide) {
          $(this).fadeIn();
        } else {
          $(this).fadeOut();
        }
      });
  }

  setInterval(function () {
    moveRight();
  }, intervalTime);

  function moveLeft() {
    activeSlide -= 1;
    console.log(activeSlide)
    if (activeSlide <= 0) {
      activeSlide = slideCount - 1;
    }
    showSlide();
  }

  function moveRight() {
    activeSlide += 1;
    if (activeSlide >= slideCount) {
      activeSlide = 0;
    }
    showSlide();
  }

  $(carousel)
    .find("a.control_prev")
    .click(function () {
      moveLeft();
    });

  $(carousel)
    .find("a.control_next")
    .click(function () {
      moveRight();
    });
}

</script>